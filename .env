# API Server Configuration
# -----------------------
# Хост, на котором будет запущен API (0.0.0.0 для доступа со всех интерфейсов)
API_HOST=0.0.0.0
# Порт для API
API_PORT=8000
# Количество рабочих процессов uvicorn (рекомендуется равное количеству ядер CPU)
API_WORKERS=2

# Resource Management
# ------------------
# Максимальное количество потоков в пуле для обработки изображений
MAX_WORKERS=4
# Максимальное количество одновременно обрабатываемых запросов
MAX_CONCURRENT_REQUESTS=6
# Максимальный размер очереди запросов
MAX_QUEUE_SIZE=500
# Таймаут для запросов в очереди (секунды)
REQUEST_TIMEOUT=30
# Максимальный размер загружаемого файла (байты, 20MB)
MAX_FILE_SIZE=20971520

# Performance Settings
# -------------------
# Коэффициент уменьшения изображения по умолчанию (1.0 = без уменьшения)
DEFAULT_DOWNSCALE=1.0
# Таймаут для обработки одного изображения (секунды)
IMAGE_PROCESSING_TIMEOUT=25
# Использовать ли фоновые задачи для очистки временных файлов
USE_BACKGROUND_TASKS=true

# Logging Configuration
# --------------------
# Уровень логирования (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO
# Путь к директории с логами
LOG_DIR=/app/logs
# Максимальный размер файла лога перед ротацией (байты, 10MB)
LOG_MAX_SIZE=10485760
# Количество файлов логов для хранения
LOG_BACKUP_COUNT=5

# CORS Settings
# ------------
# Разрешенные источники для CORS (разделенные запятыми)
# Для продакшена укажите конкретные домены вместо "*"
CORS_ORIGINS=*
# Разрешенные методы для CORS
CORS_METHODS=GET,POST,OPTIONS
# Разрешенные заголовки для CORS
CORS_HEADERS=Content-Type,Authorization

# Graceful Shutdown
# ----------------
# Таймаут для graceful shutdown (секунды)
SHUTDOWN_TIMEOUT=30

# Security Settings
# ----------------
# Включить базовую аутентификацию (true/false)
ENABLE_AUTH=false
# Имя пользователя для базовой аутентификации (если включена)
AUTH_USERNAME=admin
# Пароль для базовой аутентификации (если включена)
AUTH_PASSWORD=changeme

# Rate Limiting
# ------------
# Максимальное количество запросов с одного IP в минуту
RATE_LIMIT_PER_MINUTE=200
